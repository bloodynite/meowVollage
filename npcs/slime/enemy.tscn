[gd_scene load_steps=32 format=3 uid="uid://367b087kqfys"]

[ext_resource type="Script" path="res://npcs/slime/enemy.gd" id="1_mnvct"]
[ext_resource type="Texture2D" uid="uid://dju6qvu8i4l8j" path="res://art/characters/slime.png" id="1_vdcj2"]

[sub_resource type="AtlasTexture" id="AtlasTexture_v7jym"]
atlas = ExtResource("1_vdcj2")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_s2xlm"]
atlas = ExtResource("1_vdcj2")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qb8ea"]
atlas = ExtResource("1_vdcj2")
region = Rect2(64, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4ppr2"]
atlas = ExtResource("1_vdcj2")
region = Rect2(96, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_r50x6"]
atlas = ExtResource("1_vdcj2")
region = Rect2(128, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1utj4"]
atlas = ExtResource("1_vdcj2")
region = Rect2(160, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_o3nry"]
atlas = ExtResource("1_vdcj2")
region = Rect2(192, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qehwq"]
atlas = ExtResource("1_vdcj2")
region = Rect2(0, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hspib"]
atlas = ExtResource("1_vdcj2")
region = Rect2(32, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_v11u0"]
atlas = ExtResource("1_vdcj2")
region = Rect2(64, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_uwnvn"]
atlas = ExtResource("1_vdcj2")
region = Rect2(96, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1nd43"]
atlas = ExtResource("1_vdcj2")
region = Rect2(128, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4vba6"]
atlas = ExtResource("1_vdcj2")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_xe515"]
atlas = ExtResource("1_vdcj2")
region = Rect2(32, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5tg65"]
atlas = ExtResource("1_vdcj2")
region = Rect2(64, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nval8"]
atlas = ExtResource("1_vdcj2")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2aybq"]
atlas = ExtResource("1_vdcj2")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_b12e2"]
atlas = ExtResource("1_vdcj2")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4g74d"]
atlas = ExtResource("1_vdcj2")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_wa8pw"]
atlas = ExtResource("1_vdcj2")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_v3un7"]
atlas = ExtResource("1_vdcj2")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_c8ctr"]
atlas = ExtResource("1_vdcj2")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3bcmf"]
atlas = ExtResource("1_vdcj2")
region = Rect2(96, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_d7xbf"]
atlas = ExtResource("1_vdcj2")
region = Rect2(128, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nh64j"]
atlas = ExtResource("1_vdcj2")
region = Rect2(160, 32, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_w0yen"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_v7jym")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s2xlm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qb8ea")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4ppr2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r50x6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1utj4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o3nry")
}],
"loop": true,
"name": &"atack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qehwq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hspib")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v11u0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uwnvn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1nd43")
}],
"loop": true,
"name": &"death",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4vba6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xe515")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5tg65")
}],
"loop": true,
"name": &"hited",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_nval8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2aybq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b12e2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4g74d")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_wa8pw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v3un7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c8ctr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3bcmf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d7xbf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nh64j")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_2nnca"]
radius = 41.0

[sub_resource type="CircleShape2D" id="CircleShape2D_f3udi"]
radius = 5.0

[sub_resource type="CircleShape2D" id="CircleShape2D_vcu1e"]

[node name="enemy" type="CharacterBody2D"]
script = ExtResource("1_mnvct")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_w0yen")
animation = &"idle"

[node name="detection_area" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="detection_area"]
position = Vector2(0, 6)
shape = SubResource("CircleShape2D_2nnca")
debug_color = Color(0.235294, 0.627451, 0.352941, 0.419608)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 2)
shape = SubResource("CircleShape2D_f3udi")
debug_color = Color(0, 0.6, 0.701961, 0.419608)

[node name="enemy_hitbox" type="Area2D" parent="."]
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="enemy_hitbox"]
position = Vector2(0, 2)
shape = SubResource("CircleShape2D_vcu1e")
debug_color = Color(0.92549, 0.231373, 0.360784, 0.419608)

[node name="take_damage_cooldown" type="Timer" parent="."]
wait_time = 0.5

[node name="healthBar" type="ProgressBar" parent="."]
modulate = Color(0, 1, 0, 1)
offset_left = -9.0
offset_top = 10.0
offset_right = 171.0
offset_bottom = 40.0
scale = Vector2(0.1, 0.1)
show_percentage = false

[connection signal="body_entered" from="detection_area" to="." method="_on_detection_area_body_entered"]
[connection signal="body_exited" from="detection_area" to="." method="_on_detection_area_body_exited"]
[connection signal="body_entered" from="enemy_hitbox" to="." method="_on_enemy_hitbox_body_entered"]
[connection signal="body_exited" from="enemy_hitbox" to="." method="_on_enemy_hitbox_body_exited"]
[connection signal="timeout" from="take_damage_cooldown" to="." method="_on_take_damage_cooldown_timeout"]
